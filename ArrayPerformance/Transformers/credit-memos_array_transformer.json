{
  "credit-memos": {

    "#loop($.items)": {

      "adjustment_no": "#currentvalueatpath($.adjustmentno)",

      "ar_adjustment_items": {

        "line_item": {

          "#loopwithincontext($.aradjustmentitems.lineitem)": {

            "cbc:Amount": "#currentvalueatpath($.amount)",

            "currency": "#currentvalueatpath($.currency)",

            "customer_key": "#currentvalueatpath($.customerkey)",

            "cac:Party": {

              "cac:PartyIdentification": {

                "cbc:ID": "#currentvalueatpath($.departmentid)"
              }
            },
            "gl_account_no": {

              "cbc:AccountingCostCode": "#currentvalueatpath($.glaccountno)"
            },

            "cac:AdditionalDocumentReference": {

              "cbc:ID": "#currentvalueatpath($.key)"
            },

            "line_num": "#currentvalueatpath($.line_num)",

            "cac:PhysicalLocation": {

              "cbc:ID": "#currentvalueatpath($.locationid)"
            },

            "cbc:Note": "#currentvalueatpath($.memo)",

            "offset_gl_account_no": {

              "cbc:AccountingCostCode": "#currentvalueatpath($.offsetglaccountno)"
            },

            "cbc:PriceAmount": "#currentvalueatpath($.totaldue)",

            "cbc:PaidAmount": "#currentvalueatpath($.totalpaid)",

            "trx_amount": "#currentvalueatpath($.trx_amount)",

            "trx_totaldue": "#currentvalueatpath($.trx_totaldue)",

            "trx_totalpaid": "#currentvalueatpath($.trx_totalpaid)"
          }
        }
      },

      "cbc:PricingCurrencyCode": "#currentvalueatpath($.basecurr)",

      "batch_key": "#currentvalueatpath($.batchkey)",

      "cbc:CurrencyCode": "#currentvalueatpath($.currency)",

      "cac:CustomerParty": {

        "cbc:CustomerAssignedAccountID": "#currentvalueatpath($.customerid)"
      },

      "cbc:IssueDate": {

        "cbc:Date": "#concat(#concat(#concat(#currentvalueatpath($.datecreated.year),-),#concat(#currentvalueatpath($.datecreated.month),-)),#currentvalueatpath($.datecreated.day))"
      },

      "date_paid": {

        "cbc:Date": "#concat(#concat(#concat(#currentvalueatpath($.datepaid.year),-),#concat(#currentvalueatpath($.datepaid.month),-)),#currentvalueatpath($.datepaid.day))"
      },

      "cbc:StartDate": {

        "cbc:Date": "#concat(#concat(#concat(#currentvalueatpath($.dateposted.year),-),#concat(#currentvalueatpath($.dateposted.month),-)),#currentvalueatpath($.dateposted.day))"
      },

      "cbc:Note": "#currentvalueatpath($.description)",

      "invoice_no": "#currentvalueatpath($.invoiceno)",

      "cac:AdditionalDocumentReference": {

        "cbc:ID": "#currentvalueatpath($.key)"
      },

      "state": "#currentvalueatpath($.state)",

      "total_amount": "#currentvalueatpath($.totalamount)",

      "cbc:PriceAmount": "#currentvalueatpath($.totaldue)",

      "cbc:PaidAmount": "#currentvalueatpath($.totalpaid)",

      "total_selected": "#currentvalueatpath($.totalselected)",

      "trx_total_amount": "#currentvalueatpath($.trx_totalamount)",

      "trx_total_due": "#currentvalueatpath($.trx_totaldue)",

      "trx_total_paid": "#currentvalueatpath($.trx_totalpaid)",

      "trx_total_selected": "#currentvalueatpath($.trx_totalselected)",

      "when_modified": "#currentvalueatpath($.whenmodified)"
    }
  }
}